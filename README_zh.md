# Wealth Manager

ä»¥ Jetpack Compose æ‰“é€ çš„ç¾ä»£åŒ– Android å€‹äººç†è²¡æ‡‰ç”¨ã€‚è³‡æ–™åƒ…å­˜æ–¼æœ¬æ©Ÿã€ç”Ÿç‰©è­˜åˆ¥ç™»å…¥ã€å³æ™‚å¸‚å ´æ•¸æ“šï¼ˆFinnhubã€TWSEã€ExchangeRateâ€‘APIï¼‰ã€å¤šèªç³»ä»‹é¢ã€120Hz æœ€ä½³åŒ–èˆ‡è±å¯Œè§¸è¦ºå›é¥‹ã€‚

èªè¨€ï¼š[English](README.md) | [ç¹é«”ä¸­æ–‡](README_zh.md)

## ä¸»è¦åŠŸèƒ½

- ğŸ” **ç”Ÿç‰©è­˜åˆ¥å®‰å…¨**ï¼šæŒ‡ç´‹ï¼è‡‰éƒ¨èªè­‰ï¼Œ24 å°æ™‚æœƒè©±é€¾æ™‚
- ğŸ’° **æŠ•è³‡çµ„åˆç®¡ç†**ï¼šç¾é‡‘èˆ‡è‚¡ç¥¨å®Œæ•´ CRUD
- ğŸ“Š **å³æ™‚å¸‚å ´æ•¸æ“š**ï¼šFinnhubï¼ˆå…¨çƒï¼‰ã€TWSEï¼ˆå°è‚¡ï¼‰ã€ExchangeRateâ€‘APIï¼ˆUSD/TWDï¼‰
- ğŸ” **éŸŒæ€§æ©Ÿåˆ¶**ï¼šæ•…éšœè½‰ç§»ã€é‡è©¦ã€è«‹æ±‚å»é‡ã€é›¢ç·šå¿«å–
- ğŸ¨ **Material You**ï¼šå‹•æ…‹è‰²å½©èˆ‡éŸ¿æ‡‰å¼ç‰ˆé¢
- âš™ï¸ **æ•ˆèƒ½**ï¼š120Hz å‹å–„èˆ‡æ•ˆèƒ½ç›£æ§
- ğŸŒ **åœ¨åœ°åŒ–**ï¼šè‹±æ–‡ï¼ç¹ä¸­å³æ™‚åˆ‡æ›
- âŒš **Wear OS**ï¼šè³‡æ–™å±¤åŒæ­¥ï¼ˆç¨ç«‹ Wear æ¨¡çµ„ï¼‰

## ğŸ“± æˆªåœ–

<div align="center">

### æŠ•è³‡çµ„åˆæ¦‚è¦½èˆ‡è³‡ç”¢ç®¡ç†
<table>
<tr>
<td width="50%">
<img src="docs/screenshots/portfolio-overview.png" alt="æŠ•è³‡çµ„åˆæ¦‚è¦½" width="100%"/>
<p align="center"><em>è³‡ç”¢åˆ†ä½ˆèˆ‡å³æ™‚ä¼°å€¼</em></p>
</td>
<td width="50%">
<img src="docs/screenshots/asset-management.png" alt="è³‡ç”¢ç®¡ç†" width="100%"/>
<p align="center"><em>ç›´è¦ºçš„ç¾é‡‘èˆ‡è‚¡ç¥¨ç®¡ç†æµç¨‹</em></p>
</td>
</tr>
</table>

### ç”Ÿç‰©è­˜åˆ¥èˆ‡æ–°å¢è³‡ç”¢
<table>
<tr>
<td width="50%">
<img src="docs/screenshots/biometric-auth.png" alt="ç”Ÿç‰©è­˜åˆ¥" width="100%"/>
<p align="center"><em>å®‰å…¨ç™»å…¥èˆ‡æ¸…æ¥šéš±ç§èªªæ˜</em></p>
</td>
<td width="50%">
<img src="docs/screenshots/add-assets.png" alt="æ–°å¢è³‡ç”¢" width="100%"/>
<p align="center"><em>æ™ºæ…§æ–°å¢æµç¨‹ï¼Œæ”¯æ´è‚¡ç¥¨æœå°‹èˆ‡ä»£ç¢¼æŸ¥è©¢</em></p>
</td>
</tr>
</table>

### é—œæ–¼èˆ‡éš±ç§
<table>
<tr>
<td width="50%">
<img src="docs/screenshots/about-app.png" alt="é—œæ–¼ Wealth Manager" width="100%"/>
<p align="center"><em>é€æ˜çš„éš±ç§èˆ‡ç¬¬ä¸‰æ–¹ API è³‡è¨Š</em></p>
</td>
<td width="50%">
<!-- ç©ºç™½æ¬„ä½ä»¥ä¿æŒç‰ˆé¢å‡è¡¡ -->
</td>
</tr>
</table>

</div>

## å®‰å…¨èˆ‡éš±ç§

- **åƒ…æœ¬æ©Ÿå„²å­˜**ï¼šè²¡å‹™è³‡æ–™ä¸é›¢é–‹è£ç½®ï¼ˆç„¡é›²ç«¯åŒæ­¥ï¼‰
- **ç”Ÿç‰©è­˜åˆ¥ç™»å…¥**ï¼šç„¡éœ€å¯†ç¢¼ï¼Œ24 å°æ™‚æœƒè©±é€¾æ™‚
- **API é‡‘é‘°åŠ å¯†**ï¼šä»¥ EncryptedSharedPreferences å„²å­˜
- **æ—¥èªŒè¡›ç”Ÿ**ï¼šé‡‘é‘°é®ç½©ï¼›åµéŒ¯èšç„¦éæ•æ„Ÿè³‡è¨Š

æ–‡ä»¶ï¼š[`Security Policy`](docs/security/SECURITY.md) Â· [`API è¨­å®šæŒ‡å—`](docs/api/API_SETUP.md)

## å¿«é€Ÿé–‹å§‹

```bash
# è¤‡è£½å°ˆæ¡ˆï¼ˆæˆ–ä½ çš„ forkï¼‰
git clone https://github.com/kuoyaoming/Wealth-Manager.git

# å»ºç½®ï¼ˆDebugï¼‰
./gradlew -PwmVersionName=0.0.0-beta.local -PwmVersionCode=1 assembleDebug

# å®‰è£åˆ°è£ç½®
./gradlew installDebug
```

ç³»çµ±éœ€æ±‚
- Android 14+ï¼ˆAPI 34+ï¼‰
- ç›®æ¨™ SDK 35ï¼ˆAndroid 15ï¼‰
- å»ºè­°å…·å‚™ç”Ÿç‰©è¾¨è­˜ç¡¬é«”
- å¸‚å ´æ•¸æ“šéœ€ç¶²è·¯é€£ç·š

## API é‡‘é‘°

- æ–¼ App å…§è¨­å®šï¼šè¨­å®š â†’ ç®¡ç† API é‡‘é‘° â†’ é©—è­‰ä¸¦å„²å­˜
- é‡‘é‘°ä»¥åŠ å¯†æ–¹å¼å„²å­˜åœ¨æœ¬æ©Ÿï¼›è«‹å‹¿æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
- ä¸ä½¿ç”¨ BuildConfig é‡‘é‘°ï¼›é¿å…åœ¨ `local.properties` æ”¾ç½®çœŸå¯¦é‡‘é‘°
- è©³ç´°æ­¥é©Ÿï¼š[`docs/api/API_SETUP.md`](docs/api/API_SETUP.md)

## æ¶æ§‹æ¦‚è¦½

- **æ¨¡å¼**ï¼šMVVM + Repository
- **è³‡æ–™**ï¼šRoomï¼ˆæœ¬æ©Ÿå„²å­˜ï¼‰ã€Retrofit/OkHttp
- **ä¾è³´æ³¨å…¥**ï¼šHilt
- **UI**ï¼šJetpack Compose + Material 3
- **å®‰å…¨**ï¼šEncryptedSharedPreferences é‡‘é‘°ï¼›ç”Ÿç‰©è­˜åˆ¥ç™»å…¥

```mermaid
graph TB
  subgraph "UI å±¤"
    U1[Compose UI ç•«é¢<br/>ï¼ˆèªè­‰ã€å„€è¡¨æ¿ã€è³‡ç”¢ã€è¨­å®šï¼‰]
    U2[Navigationï¼ˆNavHostï¼‰]
    U3[Material 3 ï¼‹ éŸ¿æ‡‰å¼ç‰ˆé¢]
    U4[è§¸è¦ºèˆ‡ 120Hz é«”é©—]
  end

  subgraph "æ¥­å‹™é‚è¼¯å±¤"
    B1[ViewModels]
    B2[MarketDataService]
    B3[èªè­‰ç‹€æ…‹ï¼šBiometricAuthManager / AuthStateManager]
    B4[FirstLaunchManager]
  end

  subgraph "è³‡æ–™å±¤"
    D1[Repositories<br/>ï¼ˆAssetRepositoryã€KeyRepositoryï¼‰]
    D2[Room è³‡æ–™åº«<br/>ï¼ˆWealthManagerDatabaseï¼‹DAOsï¼‰]
    D3[API Provider Service<br/>ï¼ˆRetrofit APIsï¼‰]
    D4[å¿«å–èˆ‡éŸŒæ€§<br/>ï¼ˆCacheManagerã€TwseCacheManagerï¼‰<br/>SmartCacheStrategyã€é‡è©¦ã€å»é‡ã€<br/>éŒ¯èª¤è™•ç†ã€é©—è­‰ã€è¨ºæ–·]
  end

  U1 --> B1
  U2 --> B1
  U3 --> B1
  U4 --> B1

  B1 --> D1
  B2 --> D1
  B3 --> D1

  D1 --> D2
  D1 --> D3
  D1 --> D4
```

### æ ¸å¿ƒæ¨¡çµ„

```mermaid
graph LR
  subgraph "ğŸ” èªè­‰"
    A1[BiometricAuthManager]
    A2[AuthStateManager]
    A3[BiometricAuthScreen]
  end

  subgraph "ğŸ’° è³‡ç”¢"
    B1[AssetsScreen]
    B2[AssetRepository]
    B3[Room DAOs]
  end

  subgraph "ğŸ“Š å¸‚å ´æ•¸æ“š"
    C1[MarketDataService]
    C2[ApiProviderService<br/>ï¼ˆFinnhubApiï¼TwseApiï¼ExchangeRateApiï¼‰]
    C3[å¿«å–èˆ‡è§£æ<br/>ï¼ˆTwseCacheManagerï¼TwseDataParserï¼‰]
    C4[éŸŒæ€§<br/>ï¼ˆé‡è©¦ï¼å»é‡ï¼éŒ¯èª¤ï¼é©—è­‰ï¼‰]
  end

  subgraph "ğŸ¨ ä»‹é¢èˆ‡ç³»çµ±"
    D1[DashboardScreen]
    D2[SettingsScreen]
    D3[Navigation]
    D4[Material 3ï¼éŸ¿æ‡‰å¼]
    D5[PerformanceMonitor120Hz]
  end

  A1 --> A3
  A2 --> A3
  A3 --> D1
  D1 --> B1
  B1 --> C1
  C1 --> B2
  B2 --> B3
```

## æ•¸æ“šæµç¨‹

```mermaid
graph TD
  UI[Compose UI] --> VM[ViewModel]
  VM --> RP[Repository]
  RP --> DB[Room]
  RP --> AP[ApiProviderService]

  AP --> F[Finnhub]
  AP --> T[TWSE]
  AP --> X[ExchangeRate]

  F --> C[å¿«å–]
  T --> C
  X --> C

  C --> MDS[MarketDataService]
  MDS --> AU[è³‡ç”¢è³‡æ–™æ›´æ–°]
  AU --> DB

  AUTH[ç”Ÿç‰©è­˜åˆ¥ï¼‹èªè­‰ç‹€æ…‹ï¼ˆ24hï¼‰] --> VM
  KEY[KeyRepository] --> AP
  RES[éŸŒæ€§<br/>ï¼ˆé‡è©¦ï¼å»é‡ï¼éŒ¯èª¤ï¼é©—è­‰ï¼è¨ºæ–·ï¼‰] --> AP
  OFF[é›¢ç·šæ¨¡å¼] --> C
  C --> LC[æœ¬åœ°å¿«å–] --> UI
```

## æŠ€è¡“æ£§

- Kotlinã€Jetpack Composeã€Material 3
- Hiltã€Roomï¼ˆæœ¬æ©Ÿå„²å­˜ï¼‰ã€Retrofitã€OkHttpï¼ˆæ—¥èªŒï¼‰
- AndroidX Biometric
- Coroutines/Flows
- Wear OS è³‡æ–™å±¤

## Wear OS

- ç¨ç«‹æ¨¡çµ„ `wear`ï¼ˆ`minSdk 30`ã€`targetSdk 35`ï¼‰
- é€é `MobileWearSyncService` èˆ‡ Play Services Wearable åŒæ­¥

## è²¢ç»

è©³è¦‹ [`docs/development/CONTRIBUTING.md`](docs/development/CONTRIBUTING.md)

## æˆæ¬Š

MIT License â€” è¦‹ [LICENSE](LICENSE)

---

ç‰ˆæœ¬ï¼š1.4.0  
æœ€å¾Œæ›´æ–°ï¼š2025  
æœ€ä½æ”¯æ´ï¼šAndroid 14ï¼ˆAPI 34ï¼‰  
ç›®æ¨™ SDKï¼š35ï¼ˆAndroid 15ï¼‰

## ç™¼ä½ˆèˆ‡ç‰ˆæœ¬

- versionNameï¼šä¾†è‡ª Git Tag `vX.Y.Z` â†’ `X.Y.Z`ï¼ˆSemVerï¼‰
- versionCodeï¼šCI çš„ `GITHUB_RUN_NUMBER`
- é‡‹å‡º AABï¼šåƒ…æ–¼æ¨é€ Tag æ™‚ç”± CI ç”¢ç”Ÿ

ç¯„ä¾‹
```bash
# å»ºç«‹ä¸¦æ¨é€é‡‹å‡ºæ¨™ç±¤
git tag v1.4.0
git push origin v1.4.0

# æœ¬åœ° Debugï¼ˆRelease åƒ…é™ CIï¼‰
./gradlew -PwmVersionName=0.0.0-beta.local -PwmVersionCode=1 assembleDebug
```

ç”¢ç‰©
- Tag è§¸ç™¼å¾Œï¼ŒCI æœƒåŸ·è¡Œ `:app:bundleRelease` ä¸¦ä¸Šå‚³ `.aab` èˆ‡ `mapping.txt`

## é–‹ç™¼ç‹€æ…‹

### âœ… å·²å®Œæˆ
- ç”Ÿç‰©è­˜åˆ¥ç™»å…¥ï¼Œ24 å°æ™‚æœƒè©±é€¾æ™‚
- ç¾é‡‘ï¼è‚¡ç¥¨è³‡ç”¢ç®¡ç†ï¼ˆCRUDï¼‰
- å³æ™‚å¸‚å ´æ•¸æ“šï¼ˆFinnhubã€TWSEã€ExchangeRateâ€‘APIï¼‰
- æ•…éšœè½‰ç§»ã€é‡è©¦ã€è«‹æ±‚å»é‡
- Material 3 éŸ¿æ‡‰å¼ UI
- è‹±æ–‡ï¼ç¹é«”ä¸­æ–‡åœ¨åœ°åŒ–
- æ•ˆèƒ½ç›£æ§èˆ‡ 120Hz æœ€ä½³åŒ–
- æ™ºèƒ½å¿«å–èˆ‡é›¢ç·šæ”¯æ´
- éŒ¯èª¤å¾©åŸèˆ‡è¨ºæ–·

### ğŸš§ é–‹ç™¼ä¸­
- æŠ•è³‡çµ„åˆåœ–è¡¨
- é€²éšåˆ†æ
- æ•¸æ“šåŒ¯å‡º
- å¼·åŒ–åœ–è¡¨å…ƒä»¶
